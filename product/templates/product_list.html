{% extends 'layouts/base.html' %}
{% load static %}
{% block extra_css %}
    <link href="{% static 'vendor/datatables/css/jquery.dataTables.min.css' %}" rel="stylesheet">
{% endblock extra_css %}

{% block content %}
    <div class="container-fluid">
        <div class="row page-titles mx-0" style="background-color: #3a7afe;">
            <div class="col-sm-6 p-md-0">
                <div class="welcome-text ">
                    <h4 class="text-white">Продукты</h4>
                </div>
            </div>
            <div class="col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex">
                <ol class="breadcrumb d-flex align-items-center">
                    <li class="breadcrumb-item"><a href="{% url 'product_create' %}" style="color: #fff; border: 2px solid #fff; padding: 3px; border-radius: 16px;">Добавить</a></li>
                </ol>
            </div>
        </div>
        <div class="card">
            <div class="card-body">
                <div class="table">
                    <table class="table table-sm mb-0">
                        <div id="example_wrapper" class="dataTables_wrapper">
                            <table id="example" class="display dataTable" style="min-width: 845px"
                                   role="grid" aria-describedby="example_info">
                                <thead>
                                <tr role="row">
                                    <th class="sorting_asc" tabindex="0" aria-controls="example"
                                        rowspan="1" colspan="1" aria-sort="ascending"
                                        aria-label="Name: activate to sort column descending"
                                        style="width: 20px;">#
                                    </th>
                                    <th class="sorting_asc" tabindex="0" aria-controls="example"
                                        rowspan="1" colspan="1" aria-sort="ascending"
                                        aria-label="Name: activate to sort column descending"
                                    >Название
                                    </th>
                                    <th class="sorting" tabindex="0" aria-controls="example"
                                        rowspan="1"
                                        colspan="1"
                                        aria-label="Position: activate to sort column ascending"
                                    >Код продукта
                                    </th>
                                    <th tabindex="0" aria-controls="example" rowspan="1"
                                        colspan="1"
                                        aria-label="Office: activate to sort column ascending"
                                    >Цена
                                    </th>
                                    <th class="sorting" tabindex="0" aria-controls="example"
                                        rowspan="1"
                                        colspan="1"
                                        aria-label="Age: activate to sort column ascending"
                                    >Количество
                                    </th>

                                    <th tabindex="0" aria-controls="example" rowspan="1"
                                        colspan="1"
                                        aria-label="Age: activate to sort column ascending"
                                    >Редактировать

                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for product in products %}
                                    <tr role="row">
                                        <th class="sorting_1 text-center">{{ forloop.counter }}</th>
                                        <td>
                                            {{ product.title }}
                                        </td>
                                        <td>{{ product.code }}</td>
                                        <td>{{ product.price }}</td>
                                        <td>{{ product.count }}</td>
                                        <td class="">
                                            <form action="{% url 'product_update' product.pk %}"
                                                  method="get">
                                                <input type="hidden" name="back_url"
                                                       value="product">
                                                <input type="hidden" name="pk"
                                                       value="{{ product.pk }}">
                                                <button type="submit"
                                                        class="btn btn-primary shadow btn-sm sharp mr-1 text-light">
                                                    <svg width="1em" height="1em"
                                                         viewBox="0 0 16 16"
                                                         class="bi bi-pencil-fill"
                                                         fill="currentColor"
                                                         xmlns="http://www.w3.org/2000/svg">
                                                        <path fill-rule="evenodd"
                                                              d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                                                    </svg>


                                                </button>
                                            </form>
                                            {#                            <a href="{% url 'student_detail' student.pk %}"#}
                                            {#                                        class="btn btn-success shadow btn-sm sharp mr-1 text-light">#}
                                            </a>
                                        </td>
                                    </tr>
                                {% endfor %}
                            </table>
                        </div>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block extra_js %}
    <script src="{% static 'vendor/datatables/js/jquery.dataTables.min.js' %}"></script>
    <script src="{% static 'js/plugins-init/datatables.init.js' %}"></script>
{% endblock extra_js %}